<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
  <title>Bspwm Dynamic Borders When Toggling Fullscreen</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/css/gtd.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/themes/prism-tomorrow.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/prism.min.js"></script>
</head>
<body>
  
<main>
  <div style="margin: 1rem;">
    <a href="/" style="
      display: inline-block;
      background-color: #eee;
      color: #333;
      padding: 0.4rem 0.8rem;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
      font-family: sans-serif;
      font-size: 0.9rem;
    ">
      ‚Üê Homepage
    </a>

  <h1>Bspwm Dynamic Borders When Toggling Fullscreen</h1>

  </div>
  <nav class="toc">
    <nav id="TableOfContents">
<ul>
<li><a href="#headline-1">Preface</a>
</li>
</ul>
</nav>
  </nav> 

  <article>
    
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Preface
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>Dynamically change the border size when there is either a single node
or multiple nodes on the focused desktop</p>
<p>
Add &#34;/path/to/script &amp;&#34; to your BSPWMRC to make use of this script</p>
<div class="src src-shell">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/sh
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e"># Border size when there is one node on desktop and when there are multiple node</span>
</span></span><span style="display:flex;"><span>s
</span></span><span style="display:flex;"><span>single_node<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span>
</span></span><span style="display:flex;"><span>multi_node<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create named pipe</span>
</span></span><span style="display:flex;"><span>dynamicborder_fifo<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/tmp/dynamic-border.fifo&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> -e <span style="color:#e6db74">&#34;</span>$dynamicborder_fifo<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> rm <span style="color:#e6db74">&#34;</span>$dynamicborder_fifo<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>mkfifo <span style="color:#e6db74">&#34;</span>$dynamicborder_fifo<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Subscribe to bspc events</span>
</span></span><span style="display:flex;"><span>bspc subscribe desktop &gt; <span style="color:#e6db74">&#34;</span>$dynamicborder_fifo<span style="color:#e6db74">&#34;</span> &amp;
</span></span><span style="display:flex;"><span>bspc subscribe node &gt; <span style="color:#e6db74">&#34;</span>$dynamicborder_fifo<span style="color:#e6db74">&#34;</span> &amp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Change border size if there is one node or multiple nodes on focused desktop</span>
</span></span><span style="display:flex;"><span>_DynamicBorder<span style="color:#f92672">(){</span>
</span></span><span style="display:flex;"><span>        focused<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>bspc query -D --names -d focused<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>        node<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>bspc query -N -d $focused | wc -l<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span> $node -eq <span style="color:#ae81ff">1</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> bspc config border_width $single_node <span style="color:#f92672">||</span> bspc config border_width $multi_node
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Reading stdin from named pipe</span>
</span></span><span style="display:flex;"><span>_Main<span style="color:#f92672">(){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> read -r report; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> $report in
</span></span><span style="display:flex;"><span>                        *<span style="color:#f92672">)</span> _DynamicBorder;;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">esac</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>_Main &lt; <span style="color:#e6db74">&#34;</span>$dynamicborder_fifo<span style="color:#e6db74">&#34;</span></span></span></code></pre></div>
</div>
</div>
</div>

  </article>
</main>

</body>
</html>
